# 比價小幫手 Price Comparison Helper Linebot
---

## 目錄結構
```
Price-Comparison-Helper-Linebot/
├── crawler.py              # 負責抓取飛比網站資料
├── main.py                 # Flask 主程式
├── templates/
│   └── ccClub2024Spring_linebot.html   # 內嵌網頁模板
├── visualization.py        # 長條圖繪製與上傳功能
├── requirements.txt        # 套件安裝清單
├── README.md
└── 比價小幫手.pdf           # 專案介紹簡報
```

---
##  專案概述

**Price Comparison Helper Linebot** 是一個價格比較機器人，幫助使用者快速比較多個購物平台上的商品價格。

本Linebot利用Web爬蟲技術，使用者只需透過 LINE 輸入商品名稱與價格區間，即可自動從「飛比比價網」抓取該商品在各大電商的價格資訊，並回傳結果給用戶，協助做出更明智的購買決策。

---

##  專案背景與動機

隨著電子商務平台興起，消費者常面臨價格不透明與比較困難的問題。手動查價不僅耗時，還容易出錯。 
為了解決這一問題，我們開發了此Linebot，透過圖文選單與內嵌網頁介面，讓使用者快速取得商品在不同平台上的價格比較資訊與優惠資訊。

---

##  核心功能

###  商品查詢
- 使用者輸入商品名稱及最高／最低價，Linebot 即會查詢「飛比比價網」上符合條件的商品。
- 回傳價格最低的三筆商品資訊（包含平台名稱、價格與連結）。

###  各平台價格比較
- 擷取該商品在不同電商平台（如 PChome、蝦皮、MOMO 等）最優惠的前十名價格。
- 整理後以條形圖呈現，並將圖表上傳至Imgur圖床回傳圖片連結給用戶。

###  優惠券資訊
- 點選平台按鈕後，導向各大購物網站的優惠券頁面。

---

## 🛠 使用技術

- **Line Messaging API**：與用戶互動。
- **Python**：主要邏輯與爬蟲語言。
- **Flask**：後端框架，處理 Linebot 請求。
- **Requests**：發送 HTTP 請求。
- **BeautifulSoup**：解析 HTML 結構。
- **Matplotlib**：生成價格比較圖表。
- **Imgur API**：圖表上傳與圖像連結分享。
- **HTML**：製作內嵌式網頁供用戶輸入查詢資訊。

---

##  運作流程

### 🔹 功能一：商品查詢
1. 使用者點選 Linebot 圖文選單。
2. 進入內嵌網頁，輸入商品名稱與價格範圍。
3. 送出後觸發爬蟲查詢飛比比價資料。
4. 回傳價格最低的三筆商品資訊至 Linebot。

### 🔹 功能二：各平台價格比較
1. 使用者透過網頁輸入查詢條件。
2. 爬取前十名價格資訊並用 Matplotlib 繪製長條圖。
3. 圖表上傳至 Imgur 並將連結發回 Linebot。

### 🔹 功能三：優惠券資訊
1. 使用者點選平台快速選單。
2. 導向各平台對應的優惠券頁面。

---

=======
Price Comparison Helper Linebot
專案概述
Price Comparison Helper Linebot 是一個價格比較機器人，幫助使用者快速比較多個購物平台上的商品價格。
這個 Linebot 利用 Web 爬蟲技術，透過用戶輸入商品條件從飛比網站抓取該商品在各大電商價格信息，並將結果以簡潔易懂的方式展示給用戶，幫助他們做出明智的購買決策。

背景與動機
隨著電子商務的普及，越來越多的用戶希望能夠方便地比較不同平台上的商品價格，以獲得最佳購買體驗。
然而，手動比較價格既耗時又容易出錯。為了解決這一問題，我們開發了這個 Linebot，讓用戶只需通過簡單的操作即可輕鬆獲取價格比較資訊。

核心功能
1. 商品查詢
用戶可以通過向 Linebot 發送商品名稱及其價格上下界，來查詢該商品在飛比平台上的價格。
例如，輸入 "iPhone 14" 及最高價和最低價即可獲取該商品在所有電商通路最便宜的三個項目。

2. 各平台價格比較
也可以透過Linebot 將從多個購物平台（如 PChome、蝦皮購物、MOMO購物網等）上抓取商品價格，並以列表或圖表形式展示給用戶，方便用戶進行比較。

3. 優惠券資訊
藉由該系統可以得知各平台優惠券資訊。

技術細節
使用技術
Line Messaging API：用於實現與用戶的交互。
Python：主要編程語言，用於編寫爬蟲和後端邏輯。
Flask：作為後端框架，用於處理 Linebot 的請求並返回結果。
Requests：用於發送 HTTP 請求以抓取網頁數據。
BeautifulSoup：用於解析 HTML，以從購物網站中提取價格信息。
Html:用來製作Linebot內嵌式網頁，讓用戶輸入欲搜尋之商品及其價格範圍。
Matplotlib:製作各平台分析圖表。
Imgur:將生成的分析圖表生成網址，回傳至Linebot。

運作流程
功能一 商品查詢:
透過Linebot圖文選單點選後，回傳按鈕樣板，點選後出現內嵌式網頁，於網頁中輸入商品名稱、最高價及最低價，
送出後觸發爬蟲程式，於飛比網站爬取該商品在該價格範圍內最便宜的三個商品資訊，內容含有價格、電商平台名稱及其連結，整理成固定格式，之後回傳至Linebot當中。

功能二 各平台價格比較:
透過Linebot圖文選單點選後，回傳按鈕樣板，點選後出現內嵌式網頁，於網頁中輸入商品名稱、最高價及最低價，
送出後觸發爬蟲程式，於飛比網站爬取該商品在10個最便宜個平台的價格，並製作長條圖呈現比價結果。再透過Imgur將圖表生成網址，回傳至Linebot。

功能三 優惠券資訊:
透過Linebot圖文選單點選後，會出現數個快速選單，點選快速選單後，進入該平台優惠券連結。


